window.particlesJS=function(tag_id,params){var canvas=document.querySelector("#"+tag_id+" > canvas");if(!canvas){canvas=document.createElement("canvas"),canvas.style.width="100%",canvas.style.height="100%",document.getElementById(tag_id).appendChild(canvas)}var ctx=canvas.getContext("2d"),w=canvas.width=canvas.offsetWidth,h=canvas.height=canvas.offsetHeight,particles=[],settings=params||{},number=settings.particles&&settings.particles.number&&settings.particles.number.value||80,imagesList=settings.particles&&settings.particles.shape&&settings.particles.shape.images||[],weightedImages=[],i,j;for(i=0;i<imagesList.length;i++){var weight=imagesList[i].weight||1;for(j=0;j<weight;j++)weightedImages.push(imagesList[i])}function Particle(){this.x=Math.random()*w,this.y=Math.random()*h,this.radius=settings.particles&&settings.particles.size&&settings.particles.size.value||10,this.color=settings.particles&&settings.particles.color&&settings.particles.color.value||"#ffffff",this.opacity=Math.random(),this.speed=settings.particles&&settings.particles.move&&settings.particles.move.speed||2,this.angle=Math.random()*2*Math.PI;if(weightedImages.length>0){var imgData=weightedImages[Math.floor(Math.random()*weightedImages.length)];this.img=new Image,this.img.src=imgData.src,this.img.width=imgData.width,this.img.height=imgData.height}}Particle.prototype.update=function(){this.x+=Math.cos(this.angle)*this.speed,this.y+=Math.sin(this.angle)*this.speed,this.x>w&&(this.x=0),this.x<0&&(this.x=w),this.y>h&&(this.y=0),this.y<0&&(this.y=h)},Particle.prototype.draw=function(ctx){ctx.save(),ctx.globalAlpha=this.opacity,ctx.translate(this.x,this.y),this.img?ctx.drawImage(this.img,-this.radius,-this.radius,2*this.radius,2*this.radius):(ctx.beginPath(),ctx.arc(0,0,this.radius,0,2*Math.PI,!1),ctx.fillStyle=this.color,ctx.fill()),ctx.restore()};for(i=0;i<number;i++)particles.push(new Particle);function animate(){ctx.clearRect(0,0,w,h);for(i=0;i<particles.length;i++)particles[i].update(),particles[i].draw(ctx);requestAnimationFrame(animate)}window.addEventListener("resize",function(){w=canvas.width=canvas.offsetWidth,h=canvas.height=canvas.offsetHeight}),animate()};
